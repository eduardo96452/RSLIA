<main>
   <div>
      <div [ngClass]="{
         'px-5': isLargeScreen,
         'container': !isLargeScreen
       }">
         <div class="row align-items-start">
            <div class="col-md-12">
               <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                     <div class="row">
                        <div>
                           <li class="breadcrumb-item" aria-current="page">
                              {{reviewData.titulo_revision}}</li>
                        </div>
                     </div>
                  </ol>
               </nav>
            </div>
         </div>
         <br>
         <div class="row">
            <div class="col-12 col-md-2">
               <div class="d-flex">
                  <div class="floating-menu">
                     <!-- Descripción general -->
                     <div class="menu-item" [routerLink]="['/detalle_revision']" [queryParams]="{ id: reviewId }">
                        Descripción general
                     </div>
                     <!-- Planificación -->
                     <div class="menu-item" [routerLink]="['/planificacion']" [queryParams]="{ id: reviewId }">
                        Planificación
                     </div>
                     <!-- Revisión de datos -->
                     <div class="menu-item" [routerLink]="['/estudios']" [queryParams]="{ id: reviewId }">
                        Revisión de datos
                     </div>
                     <!-- Extracción de datos -->
                     <div class="menu-item" [routerLink]="['/extraccion_datos']" [queryParams]="{ id: reviewId }">
                        Extracción de datos
                     </div>
                     <!-- Proyección de borrador de artículo -->
                     <div class="menu-item active" [routerLink]="['/informes']" [queryParams]="{ id: reviewId }">
                        Proyección de artículo
                     </div>
                     <!-- Diagrama de Flujo PRISMA -->
                     <div class="menu-item" [routerLink]="['/prisma']" [queryParams]="{ id: reviewId }">
                        Diagrama de Flujo PRISMA
                     </div>
                  </div>
               </div>
               <br />
            </div>

            <div class="col col-sm col-md-10">
               <!-- Nav Tabs para cada sección del artículo -->
               <ul class="nav nav-tabs" role="tablist">
                  <li class="nav-item" role="presentation">
                     <button class="nav-link active" id="intro-tab" data-bs-toggle="tab" data-bs-target="#introduccion"
                        type="button" role="tab" aria-controls="introduccion" aria-selected="true">
                        Introducción
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="trabajos-tab" data-bs-toggle="tab" data-bs-target="#trabajos"
                        type="button" role="tab" aria-controls="trabajos" aria-selected="false">
                        Trabajos relacionados
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="metodologia-tab" data-bs-toggle="tab" data-bs-target="#metodologia"
                        type="button" role="tab" aria-controls="metodologia" aria-selected="false">
                        Metodología
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="resultados-tab" data-bs-toggle="tab" data-bs-target="#resultados"
                        type="button" role="tab" aria-controls="resultados" aria-selected="false">
                        Resultados
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="discusion-tab" data-bs-toggle="tab" data-bs-target="#discusion"
                        type="button" role="tab" aria-controls="discusion" aria-selected="false">
                        Discusión
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="limitaciones-tab" data-bs-toggle="tab" data-bs-target="#limitaciones"
                        type="button" role="tab" aria-controls="limitaciones" aria-selected="false">
                        Limitaciones
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="conclusion-tab" data-bs-toggle="tab" data-bs-target="#conclusion"
                        type="button" role="tab" aria-controls="conclusion" aria-selected="false">
                        Conclusión
                     </button>
                  </li>
                  <li class="nav-item" role="presentation">
                     <button class="nav-link" id="referencias-tab" data-bs-toggle="tab" data-bs-target="#referencias"
                        type="button" role="tab" aria-controls="referencias" aria-selected="false">
                        Referencias
                     </button>
                  </li>
                  &nbsp;
                  <li class="nav-item" role="presentation">
                     <button class="btn btn-outline-primary" id="referencias-btn" type="button" (click)="downloadDraftWord()">
                       Descargar borrador de artículo
                     </button>
                   </li>
               </ul>

               <!-- Contenido de cada pestaña -->
               <div class="tab-content mt-3">
                  <!-- Introducción -->
                  <div class="tab-pane fade show active" id="introduccion" role="tabpanel" aria-labelledby="intro-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Título de la sección -->
                              <h5><strong>Introducción</strong></h5>
                              <!-- Botón para generar texto con IA -->
                              <button class="btn btn-primary" title="Generar introducción con IA"
                                 (click)="generateIntroductionWithIA()">
                                 Generar introducción con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <!-- Área editable para el borrador de Introducción -->
                           <div contenteditable="true" class="form-control" style="min-height: 150px;"
                              [innerHTML]="introductionText">
                              <!-- El contenido generado se mostrará aquí -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón para guardar el borrador de Introducción -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción" (click)="saveIntroductionDraft()">
                                Guardar introducción
                              </button>
                            </div>
                        </div>
                     </div>
                  </div>

                  <!-- Trabajos relacionados -->
                  <div class="tab-pane fade" id="trabajos" role="tabpanel" aria-labelledby="trabajos-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Trabajos relacionados</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar trabajos relacionados con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar trabajos relacionados
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- Metodología -->
                  <div class="tab-pane fade" id="metodologia" role="tabpanel" aria-labelledby="metodologia-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Metodología</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar metodología con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar metodología
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- Resultados -->
                  <div class="tab-pane fade" id="resultados" role="tabpanel" aria-labelledby="resultados-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Resultados</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar resultados con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar resultados
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- Discusión -->
                  <div class="tab-pane fade" id="discusion" role="tabpanel" aria-labelledby="discusion-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Discusión</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar discusión con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar discusión
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- Limitaciones -->
                  <div class="tab-pane fade" id="limitaciones" role="tabpanel" aria-labelledby="limitaciones-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Limitaciones</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar limitaciones con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar limitaciones
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- Conclusión -->
                  <div class="tab-pane fade" id="conclusion" role="tabpanel" aria-labelledby="conclusion-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Conclusión</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar conclusión con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar conclusión
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- Referencias -->
                  <div class="tab-pane fade" id="referencias" role="tabpanel" aria-labelledby="referencias-tab">
                     <div class="card mb-3">
                        <div class="card-header bg-light">
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la izquierda para generar texto con IA -->
                              <h5><strong>Referencias</strong></h5>
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-primary" title="Generar introducción con IA">
                                 Generar referencias con IA
                              </button>
                           </div>
                        </div>
                        <div class="card-body">
                           <div contenteditable="true" class="form-control" style="min-height: 150px;">
                              <!-- Aquí se edita el borrador de la Introducción -->
                           </div>
                           <div class="d-flex justify-content-between mt-2">
                              <!-- Botón a la derecha para guardar -->
                              <button class="btn btn-success" title="Guardar borrador de Introducción">
                                 Guardar retodología
                              </button>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</main>